server.port=8080
spring.application.name=creativeai-backend

# ============================================
# R2DBC MySQL 설정
# ============================================
spring.r2dbc.url=r2dbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:creativeai_db}
spring.r2dbc.username=${DB_USER:creativeai_user}
spring.r2dbc.password=${DB_PASSWORD:creativeai_pass_2024}
spring.r2dbc.pool.initial-size=10
spring.r2dbc.pool.max-size=20
spring.r2dbc.pool.max-idle-time=30m

# ============================================
# Schema Initialization
# ============================================
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql

# ============================================
# JWT 설정 (JSON Web Token)
# ============================================
# 비밀 키 (인프라 환경변수 JWT_SECRET 연결)
jwt.secret=${JWT_SECRET:creativeai-super-secret-key-for-jwt-token-2024-minimum-256-bits-required-for-security}

# Access Token 만료 시간 (밀리초): 15분 = 900,000ms
jwt.access-token-expiry=900000

# Refresh Token 만료 시간 (밀리초): 7일 = 604,800,000ms
jwt.refresh-token-expiry=604800000

# ============================================
# Google OAuth2 설정
# ============================================
# Google Cloud Console에서 발급받은 클라이언트 정보
# https://console.cloud.google.com/apis/credentials
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:your-google-client-id}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:your-google-client-secret}
spring.security.oauth2.client.registration.google.scope=openid,email,profile
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google

# ============================================
# Logging 설정
# ============================================
logging.level.root=INFO
logging.level.com.creativeai=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.http.codec=DEBUG
logging.level.com.fasterxml.jackson=DEBUG
logging.level.io.r2dbc=DEBUG
logging.level.org.springframework.security=DEBUG

# ============================================
# CORS 설정 (Cross-Origin Resource Sharing)
# ============================================
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:5173
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
# ============================================
# WebFlux 설정 (Buffer Size 등)
# ============================================
# 10MB (기본값 256KB에서 상향)
spring.codec.max-in-memory-size=10MB

# ============================================
# 외부 AI 서비스 API 키 설정
# ============================================
# Stability AI: https://platform.stability.ai/
ai.stability.api-key=${STABILITY_API_KEY:sk-A1A49Fzki4qlZ1LRusKhdYXsJfwDBEggKpFUmUJiXescpZGB}

# Remove.bg: https://www.remove.bg/api
ai.removebg.api-key=${REMOVEBG_API_KEY:VZe4dnGVtUpxjspnbQEqDJWy}
