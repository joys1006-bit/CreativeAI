---
name: self-check
description: 실수 방지를 위한 자기 점검 체크리스트 및 교훈 기록
---

# 🔍 자기 점검 (Self-Check) 스킬

## 📌 목적
과거 실수를 기록하고, 같은 실수를 반복하지 않기 위한 점검 체크리스트.

---

## 🚨 교훈 기록 (Lessons Learned)

### 1. UI 깨짐을 "정상"이라고 넘기지 마라
- **사건**: 리본 툴바 라벨이 잘리고 버튼이 세로로 쌓여있는데 "정상"이라고 답변
- **원인**: 스크린샷을 대충 보고 "표시 됐으니 OK"로 판단
- **교훈**: **모든 UI 요소의 정렬, 잘림, 겹침을 한 글자 단위로 꼼꼼히 검증**. 조금이라도 이상하면 "정상"이라 하지 말 것

### 2. CSS className 추가 시 반드시 CSS 정의를 함께 작성
- **사건**: JSX에 `.ribbon-toolbar`, `.tool-btn` 등의 className을 사용했지만 CSS 기본 스타일 누락
- **원인**: 미디어쿼리 안에만 정의하고 기본 스타일 미작성
- **교훈**: **JSX className 신규 추가 → 기본 CSS 정의 작성 → 반응형 추이 순서 필수**

### 3. AI 응답 데이터 형식을 맹신하지 마라
- **사건**: Gemini가 타이밍을 `분.초`(2.58=2분58초)로 반환하여 자막 타이밍 전체 깨짐
- **원인**: AI 모델의 출력 형식을 검증 없이 그대로 저장
- **교훈**: **AI 모델 반환 데이터는 반드시 후처리 검증 로직 추가.** 범위 검사, 형식 검사 필수

### 4. JSX 구조 변경 시 CSS도 동시 검증
- **사건**: `.tool-section` 내부에 래퍼 없이 라벨과 버튼이 같은 플렉스 컨테이너에 혼합
- **원인**: JSX만 수정하고 CSS 레이아웃 영향 분석 안 함
- **교훈**: **컴포넌트 구조 변경 시 반드시 CSS 레이아웃 flow 재검증**

### 5. 글로벌 CSS가 컴포넌트 스타일을 덮어쓸 수 있다
- **사건**: `index.css`의 `button { padding: 12px 24px; border-radius: 12px; }` 글로벌 규칙이 `.tool-btn`의 스타일을 덮어씀
- **원인**: 기본 `button` 셀렉터와 `.tool-btn` 셀렉터의 specificity가 같아서 로드 순서에 따라 결정
- **교훈**: **새 컴포넌트 CSS 작성 시, 반드시 글로벌 리셋 CSS(reset/normalize/index.css)와의 충돌 여부를 확인.** 필요시 부모 스코프 리셋 또는 `!important` 사용

### 6. CSS가 파일에 있어도 브라우저에 적용되지 않을 수 있다
- **사건**: App.css에 올바른 규칙이 있고 import도 됐는데, 브라우저에 반영 안 됨 (3차 시도)
- **원인**: Vite HMR 캐시, 브라우저 캐시, 또는 알 수 없는 specificity 충돌
- **교훈**: **CSS 외부 파일 의존 대신 인라인 스타일(React style 객체)을 레이아웃 핵심 속성에 사용**하면 적용 실패가 원천 차단됨. 특히 flex 레이아웃은 인라인으로 확실히 보장

### 7. ⚠️ API 키를 절대 Git에 커밋하지 마라
- **사건**: `.env`가 Git 히스토리에 커밋 → Google이 자동 감지 → API 키 무효화(403 leaked)
- **원인**: `.gitignore`에 `.env`가 있었지만, 이전 커밋에서 이미 추적되고 있었음
- **교훈**:
  1. **커밋 전 `git status`로 .env 포함 여부 반드시 확인**
  2. **`git rm --cached .env`로 Git 추적에서 제거 후 커밋**
  3. **새 프로젝트 시작 시 `.gitignore`를 먼저 설정하고 커밋**
  4. **이미 커밋된 비밀 키는 히스토리에서도 제거 필요 (`git filter-branch` 또는 BFG Repo-Cleaner)**
  5. **API 키가 노출되면 즉시 새 키 발급 후 기존 키 폐기**

---

## ✅ 작업 전 체크리스트

### UI/프론트엔드 작업 시
- [ ] JSX에서 사용하는 모든 className이 CSS에 기본 정의가 있는가?
- [ ] flex 컨테이너의 direction, align-items, gap이 의도대로인가?
- [ ] 라벨, 텍스트가 잘리거나 넘치지 않는가?
- [ ] 모든 요소가 가로/세로 의도한 방향으로 배치되는가?
- [ ] 브라우저에서 실제 렌더링 결과를 확인했는가?

### AI 연동 작업 시
- [ ] AI 모델 반환 데이터의 형식/범위를 검증하는 로직이 있는가?
- [ ] 프롬프트에 출력 형식을 명확히 지정했는가? (예시 포함)
- [ ] 모델 실패 시 Fallback이 정상 작동하는가?
- [ ] 실제 반환된 데이터를 로그로 확인했는가?

### 수정 완료 후
- [ ] 수정 전/후 차이를 실제 화면에서 확인했는가?
- [ ] 수정이 다른 부분에 사이드이펙트를 발생시키지 않는가?
- [ ] "정상이다"라고 답변하기 전에 한 번 더 꼼꼼히 살펴봤는가?

---

## 📝 신규 교훈 추가 규칙
1. 사장님이 UI/기능 문제를 지적할 때마다 이 파일에 교훈 추가
2. 같은 카테고리의 실수가 2회 이상 반복되면 **워크플로우에 강제 체크 단계 추가**
3. 매 작업 완료 시 이 체크리스트를 훑어보고 놓친 항목이 없는지 확인
